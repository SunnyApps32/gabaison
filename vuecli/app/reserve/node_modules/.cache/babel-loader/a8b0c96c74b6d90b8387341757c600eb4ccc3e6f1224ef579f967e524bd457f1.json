{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-06f89e57\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"div\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"meta\", {\n  name: \"viewport\",\n  content: \"width=device-width, initial-scale=1.0\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"div-2\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"div-3\"\n}, \"QRコードリーダー\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"scanner\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"instructions\"\n}, [/*#__PURE__*/_createTextVNode(\"QRコードを\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"カメラにかざしてください\")], -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"qr-reader\",\n  class: \"qr-reader\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"qr-reader-results\",\n  class: \"results\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"qr-reader-error\",\n  class: \"error\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"manual-input\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"div-11\"\n}, [/*#__PURE__*/_createTextVNode(\"supported by \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://sunapp.jp\",\n  class: \"sunapp\"\n}, \"sunapp\"), /*#__PURE__*/_createTextVNode(\" LLC.\")], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    loading: \"lazy\",\n    src: \"https://cdn.builder.io/api/v1/image/assets/TEMP/93df00fc34138266fdb4a1b858262d23dc5dc1d3f04b1fffdd1ac7810d8282ec?\",\n    class: \"img\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goToHomePage && $options.goToHomePage(...args))\n  }), _hoisted_4]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _hoisted_7, _hoisted_8, _hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.manualReserveId = $event),\n    placeholder: \"予約IDでチェックイン\",\n    class: \"input-field\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.manualReserveId]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.submitManualReserveId && $options.submitManualReserveId(...args)),\n    class: \"submit-button\"\n  }, \"次へ\")])]), _hoisted_11]);\n}","map":{"version":3,"names":["class","_createElementVNode","name","content","_createTextVNode","id","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","loading","src","onClick","_cache","args","$options","goToHomePage","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","type","$event","_ctx","manualReserveId","placeholder","submitManualReserveId","_hoisted_11"],"sources":["/app/reserve/src/views/QRcodePage.vue"],"sourcesContent":["<template>\n  <div class=\"div\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <div class=\"div-2\">\n      <img loading=\"lazy\"\n        src=\"https://cdn.builder.io/api/v1/image/assets/TEMP/93df00fc34138266fdb4a1b858262d23dc5dc1d3f04b1fffdd1ac7810d8282ec?\"\n        class=\"img\" @click=\"goToHomePage\" />\n        <div class=\"div-3\">QRコードリーダー</div></div>\n    <div class=\"scanner\">\n      <div class=\"instructions\">QRコードを<br />カメラにかざしてください</div>\n      <div id=\"qr-reader\" class=\"qr-reader\"></div>\n      <div id=\"qr-reader-results\" class=\"results\"></div>\n      <div id=\"qr-reader-error\" class=\"error\"></div>\n\n      <div class=\"manual-input\">\n        <input type=\"text\" v-model=\"manualReserveId\" placeholder=\"予約IDでチェックイン\" class=\"input-field\"/>\n        <button @click=\"submitManualReserveId\" class=\"submit-button\">次へ</button>\n      </div>\n    </div>\n    <div class=\"div-11\">supported by <a href=\"https://sunapp.jp\" class=\"sunapp\">sunapp</a> LLC.</div>\n  </div>\n</template>\n\n<script>\nimport { Html5Qrcode } from \"html5-qrcode\";\n\nexport default {\n  name: 'QrCodeScanner',\n  data() {\n    return {\n      html5QrCode: null\n    };\n  },\n  mounted() {\n    this.startScanner();\n  },\n\n  methods: {\n    startScanner() {\n      this.html5QrCode = new Html5Qrcode(\"qr-reader\");\n      const qrCodeSuccessCallback = (decodedText) => {\n        this.html5QrCode.stop().then(() => {\n          this.$router.push({\n            name: 'checkInOutPage',\n            params: {\n              reserveId: decodedText,\n            }\n          });  // QRコード読み取り成功後に次のページに遷移\n        }).catch((err) => {\n          console.error(\"Failed to stop scanning.\", err);\n        });\n      };\n      const qrCodeErrorCallback = (errorMessage) => {\n        console.log(`Error: ${errorMessage}`);\n      };\n      const config = { fps: 10, qrbox: 250 };\n\n      navigator.mediaDevices.enumerateDevices()\n        .then(devices => {\n          const videoDevices = devices.filter(device => device.kind === 'videoinput');\n          if (videoDevices.length > 0) {\n            this.html5QrCode.start({ facingMode: \"environment\" }, config, qrCodeSuccessCallback).catch(qrCodeErrorCallback);\n          } else {\n            alert('カメラデバイスが見つかりませんでした。');\n          }\n        })\n        .catch(err => {\n          console.log(`Error: ${err.message}`);\n        });\n    },\n    submitManualReserveId() {\n      if (this.manualReserveId.trim() !== '') {\n        this.$router.push({\n          name: 'checkInOutPage',\n          params: {\n            reserveId: this.manualReserveId,\n          }\n        });\n      } else {\n        alert('予約IDを入力してください。');\n      }\n    },\n    goToHomePage(){\n      this.$router.push({name: \"Home\"});\n    }\n  }\n};\n</script>\n\n<style scoped>\n.div {\n  background-color: #ebfffe;\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  line-height: 150%;\n  margin: 0 auto;\n}\n.div-2 {\n  background-color: #2c4e61;\n  display: flex;\n  width: 100%;\n  align-items: start;\n  gap: 20px;\n\n  color: #ebfffe;\n  white-space: nowrap;\n  text-align: center;\n  letter-spacing: -0.38px;\n   display: flex;\n    justify-content: center; /* 子要素を中央揃え */\n    position: relative;\n    padding: 30px 0 10px;\n  font-weight: bold;\n  font-size: 20px;\n\n}\n\n.img {\n  aspect-ratio: 1;\n  object-fit: auto;\n  object-position: center;\n  width: 54px;\n    position: absolute;\n    left: 0; \n}\n\n.div-3 {\n  font-family: M PLUS Code Latin, sans-serif;\n  margin: 18px;\n  flex-grow: 1;\n  flex-basis: auto;\n\n}\n\n.container {\n  background-color: #646464;\n  display: flex;\n  max-width: 480px;\n  width: 100%;\n  flex-direction: column;\n  color: #fff;\n  font-weight: 700;\n  text-align: center;\n  line-height: 150%;\n  margin: 0 auto;\n}\n.header {\n  background-color: #2c4e61;\n  width: 100%;\n  align-items: center;\n  white-space: nowrap;\n  letter-spacing: -0.38px;\n  padding: 60px 60px 18px;\n  font: 20px M PLUS Code Latin, sans-serif;\n}\n.scanner {\n  display: flex;\n  margin-top: 65px;\n  width: 100%;\n  flex-direction: column;\n  font-size: 28px;\n  color: #ebfffe;\n  white-space: nowrap;\n  letter-spacing: -0.53px;\n  line-height: 42px;\n  padding: 0 30px;\n}\n.instructions {\n  font-family: M PLUS Code Latin, sans-serif;\n  color: black;\n}\n.qr-reader {\n  margin: 0px auto;\n  width: 100%;\n}\n.results {\n  margin-top: 20px;\n  font-size: 18px;\n}\n.error {\n  margin-top: 20px;\n  font-size: 18px;\n  color: red;\n}\n.footer {\n  background-color: #2c4e61;\n  margin-top: 55px;\n  width: 100%;\n  align-items: center;\n  letter-spacing: -0.27px;\n  justify-content: center;\n  padding: 20px 60px;\n  font: 14px M PLUS Code Latin, sans-serif;\n}\n.sunapp {\n  color: #ebfffe;\n}\n.div-11 {\n  background-color: #2c4e61;\n  align-self: stretch;\n  margin-top: 20px;\n  width: 100%;\n  align-items: center;\n  color: #fff;\n  text-align: center;\n  letter-spacing: -0.27px;\n  justify-content: center;\n  font: 700 20px M PLUS Code Latin, sans-serif;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAK;gEACdC,mBAAA,CAAsE;EAAhEC,IAAI,EAAC,UAAU;EAACC,OAAO,EAAC;;;EACzBH,KAAK,EAAC;AAAO;gEAIdC,mBAAA,CAAkC;EAA7BD,KAAK,EAAC;AAAO,GAAC,WAAS;;EAC3BA,KAAK,EAAC;AAAS;gEAClBC,mBAAA,CAAwD;EAAnDD,KAAK,EAAC;AAAc,I,aAT/BI,gBAAA,CASgC,QAAM,G,aAAAH,mBAAA,CAAM,O,aAT5CG,gBAAA,CAS4C,cAAY,E;gEAClDH,mBAAA,CAA4C;EAAvCI,EAAE,EAAC,WAAW;EAACL,KAAK,EAAC;;gEAC1BC,mBAAA,CAAkD;EAA7CI,EAAE,EAAC,mBAAmB;EAACL,KAAK,EAAC;;gEAClCC,mBAAA,CAA8C;EAAzCI,EAAE,EAAC,iBAAiB;EAACL,KAAK,EAAC;;;EAE3BA,KAAK,EAAC;AAAc;iEAK3BC,mBAAA,CAAiG;EAA5FD,KAAK,EAAC;AAAQ,I,aAnBvBI,gBAAA,CAmBwB,eAAa,G,aAAAH,mBAAA,CAAqD;EAAlDK,IAAI,EAAC,mBAAmB;EAACN,KAAK,EAAC;GAAS,QAAM,G,aAnBtFI,gBAAA,CAmB0F,OAAK,E;;uBAlB7FG,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJC,UAAsE,EACtER,mBAAA,CAI4C,OAJ5CS,UAI4C,GAH1CT,mBAAA,CAEsC;IAFjCU,OAAO,EAAC,MAAM;IACjBC,GAAG,EAAC,mHAAmH;IACvHZ,KAAK,EAAC,KAAK;IAAEa,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MAChCG,UAAkC,C,GACtCjB,mBAAA,CAUM,OAVNkB,UAUM,GATJC,UAAwD,EACxDC,UAA4C,EAC5CC,UAAkD,EAClDC,UAA8C,EAE9CtB,mBAAA,CAGM,OAHNuB,WAGM,G,gBAFJvB,mBAAA,CAA4F;IAArFwB,IAAI,EAAC,MAAM;IAf1B,uBAAAX,MAAA,QAAAA,MAAA,MAAAY,MAAA,IAeoCC,IAAA,CAAAC,eAAe,GAAAF,MAAA;IAAEG,WAAW,EAAC,aAAa;IAAC7B,KAAK,EAAC;iDAAjD2B,IAAA,CAAAC,eAAe,E,GAC3C3B,mBAAA,CAAwE;IAA/DY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAc,qBAAA,IAAAd,QAAA,CAAAc,qBAAA,IAAAf,IAAA,CAAqB;IAAEf,KAAK,EAAC;KAAgB,IAAE,E,KAGnE+B,WAAiG,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}