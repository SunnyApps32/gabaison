{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Html5Qrcode } from \"html5-qrcode\";\nexport default {\n  name: 'QrCodeScanner',\n  data() {\n    return {\n      html5QrCode: null\n    };\n  },\n  mounted() {\n    this.startScanner();\n  },\n  methods: {\n    startScanner() {\n      this.html5QrCode = new Html5Qrcode(\"qr-reader\");\n      const qrCodeSuccessCallback = decodedText => {\n        this.html5QrCode.stop().then(() => {\n          this.$router.push({\n            name: 'checkInOutPage',\n            params: {\n              reserveId: decodedText\n            }\n          }); // QRコード読み取り成功後に次のページに遷移\n        }).catch(err => {\n          console.error(\"Failed to stop scanning.\", err);\n        });\n      };\n      const qrCodeErrorCallback = errorMessage => {\n        console.log(`Error: ${errorMessage}`);\n      };\n      const config = {\n        fps: 10,\n        qrbox: 250\n      };\n      navigator.mediaDevices.enumerateDevices().then(devices => {\n        const videoDevices = devices.filter(device => device.kind === 'videoinput');\n        if (videoDevices.length > 0) {\n          this.html5QrCode.start({\n            facingMode: \"environment\"\n          }, config, qrCodeSuccessCallback).catch(qrCodeErrorCallback);\n        } else {\n          alert('カメラデバイスが見つかりませんでした。');\n        }\n      }).catch(err => {\n        console.log(`Error: ${err.message}`);\n      });\n    },\n    submitManualReserveId() {\n      if (this.manualReserveId.trim() !== '') {\n        this.$router.push({\n          name: 'checkInOutPage',\n          params: {\n            reserveId: this.manualReserveId\n          }\n        });\n      } else {\n        alert('予約IDを入力してください。');\n      }\n    },\n    goToHomePage() {\n      this.$router.push({\n        name: \"Home\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["Html5Qrcode","name","data","html5QrCode","mounted","startScanner","methods","qrCodeSuccessCallback","decodedText","stop","then","$router","push","params","reserveId","catch","err","console","error","qrCodeErrorCallback","errorMessage","log","config","fps","qrbox","navigator","mediaDevices","enumerateDevices","devices","videoDevices","filter","device","kind","length","start","facingMode","alert","message","submitManualReserveId","manualReserveId","trim","goToHomePage"],"sources":["/app/reserve/src/views/QRcodePage.vue"],"sourcesContent":["<template>\n  <div class=\"div\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <div class=\"div-2\">\n      <img loading=\"lazy\"\n        src=\"https://cdn.builder.io/api/v1/image/assets/TEMP/93df00fc34138266fdb4a1b858262d23dc5dc1d3f04b1fffdd1ac7810d8282ec?\"\n        class=\"img\" @click=\"goToHomePage\" />\n        <div class=\"div-3\">QRコードリーダー</div></div>\n    <div class=\"scanner\">\n      <div class=\"instructions\">QRコードを<br />カメラにかざしてください</div>\n      <div id=\"qr-reader\" class=\"qr-reader\"></div>\n      <div id=\"qr-reader-results\" class=\"results\"></div>\n      <div id=\"qr-reader-error\" class=\"error\"></div>\n\n      <div class=\"manual-input\">\n        <input type=\"text\" v-model=\"manualReserveId\" placeholder=\"予約IDでチェックイン\" class=\"input-field\"/>\n        <button @click=\"submitManualReserveId\" class=\"submit-button\">次へ</button>\n      </div>\n    </div>\n    <div class=\"div-11\">supported by <a href=\"https://sunapp.jp\" class=\"sunapp\">sunapp</a> LLC.</div>\n  </div>\n</template>\n\n<script>\nimport { Html5Qrcode } from \"html5-qrcode\";\n\nexport default {\n  name: 'QrCodeScanner',\n  data() {\n    return {\n      html5QrCode: null\n    };\n  },\n  mounted() {\n    this.startScanner();\n  },\n\n  methods: {\n    startScanner() {\n      this.html5QrCode = new Html5Qrcode(\"qr-reader\");\n      const qrCodeSuccessCallback = (decodedText) => {\n        this.html5QrCode.stop().then(() => {\n          this.$router.push({\n            name: 'checkInOutPage',\n            params: {\n              reserveId: decodedText,\n            }\n          });  // QRコード読み取り成功後に次のページに遷移\n        }).catch((err) => {\n          console.error(\"Failed to stop scanning.\", err);\n        });\n      };\n      const qrCodeErrorCallback = (errorMessage) => {\n        console.log(`Error: ${errorMessage}`);\n      };\n      const config = { fps: 10, qrbox: 250 };\n\n      navigator.mediaDevices.enumerateDevices()\n        .then(devices => {\n          const videoDevices = devices.filter(device => device.kind === 'videoinput');\n          if (videoDevices.length > 0) {\n            this.html5QrCode.start({ facingMode: \"environment\" }, config, qrCodeSuccessCallback).catch(qrCodeErrorCallback);\n          } else {\n            alert('カメラデバイスが見つかりませんでした。');\n          }\n        })\n        .catch(err => {\n          console.log(`Error: ${err.message}`);\n        });\n    },\n    submitManualReserveId() {\n      if (this.manualReserveId.trim() !== '') {\n        this.$router.push({\n          name: 'checkInOutPage',\n          params: {\n            reserveId: this.manualReserveId,\n          }\n        });\n      } else {\n        alert('予約IDを入力してください。');\n      }\n    },\n    goToHomePage(){\n      this.$router.push({name: \"Home\"});\n    }\n  }\n};\n</script>\n\n<style scoped>\n.div {\n  background-color: #ebfffe;\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  line-height: 150%;\n  margin: 0 auto;\n}\n.div-2 {\n  background-color: #2c4e61;\n  display: flex;\n  width: 100%;\n  align-items: start;\n  gap: 20px;\n\n  color: #ebfffe;\n  white-space: nowrap;\n  text-align: center;\n  letter-spacing: -0.38px;\n   display: flex;\n    justify-content: center; /* 子要素を中央揃え */\n    position: relative;\n    padding: 30px 0 10px;\n  font-weight: bold;\n  font-size: 20px;\n\n}\n\n.img {\n  aspect-ratio: 1;\n  object-fit: auto;\n  object-position: center;\n  width: 54px;\n    position: absolute;\n    left: 0; \n}\n\n.div-3 {\n  font-family: M PLUS Code Latin, sans-serif;\n  margin: 18px;\n  flex-grow: 1;\n  flex-basis: auto;\n\n}\n\n.container {\n  background-color: #646464;\n  display: flex;\n  max-width: 480px;\n  width: 100%;\n  flex-direction: column;\n  color: #fff;\n  font-weight: 700;\n  text-align: center;\n  line-height: 150%;\n  margin: 0 auto;\n}\n.header {\n  background-color: #2c4e61;\n  width: 100%;\n  align-items: center;\n  white-space: nowrap;\n  letter-spacing: -0.38px;\n  padding: 60px 60px 18px;\n  font: 20px M PLUS Code Latin, sans-serif;\n}\n.scanner {\n  display: flex;\n  margin-top: 65px;\n  width: 100%;\n  flex-direction: column;\n  font-size: 28px;\n  color: #ebfffe;\n  white-space: nowrap;\n  letter-spacing: -0.53px;\n  line-height: 42px;\n  padding: 0 30px;\n}\n.instructions {\n  font-family: M PLUS Code Latin, sans-serif;\n  color: black;\n}\n.qr-reader {\n  margin: 0px auto;\n  width: 100%;\n}\n.results {\n  margin-top: 20px;\n  font-size: 18px;\n}\n.error {\n  margin-top: 20px;\n  font-size: 18px;\n  color: red;\n}\n.footer {\n  background-color: #2c4e61;\n  margin-top: 55px;\n  width: 100%;\n  align-items: center;\n  letter-spacing: -0.27px;\n  justify-content: center;\n  padding: 20px 60px;\n  font: 14px M PLUS Code Latin, sans-serif;\n}\n.sunapp {\n  color: #ebfffe;\n}\n.div-11 {\n  background-color: #2c4e61;\n  align-self: stretch;\n  margin-top: 20px;\n  width: 100%;\n  align-items: center;\n  color: #fff;\n  text-align: center;\n  letter-spacing: -0.27px;\n  justify-content: center;\n  font: 700 20px M PLUS Code Latin, sans-serif;\n}\n</style>\n"],"mappings":";AAwBA,SAASA,WAAU,QAAS,cAAc;AAE1C,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EAEDC,OAAO,EAAE;IACPD,YAAYA,CAAA,EAAG;MACb,IAAI,CAACF,WAAU,GAAI,IAAIH,WAAW,CAAC,WAAW,CAAC;MAC/C,MAAMO,qBAAoB,GAAKC,WAAW,IAAK;QAC7C,IAAI,CAACL,WAAW,CAACM,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;UACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAChBX,IAAI,EAAE,gBAAgB;YACtBY,MAAM,EAAE;cACNC,SAAS,EAAEN;YACb;UACF,CAAC,CAAC,EAAG;QACP,CAAC,CAAC,CAACO,KAAK,CAAEC,GAAG,IAAK;UAChBC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC;QAChD,CAAC,CAAC;MACJ,CAAC;MACD,MAAMG,mBAAkB,GAAKC,YAAY,IAAK;QAC5CH,OAAO,CAACI,GAAG,CAAC,UAAUD,YAAY,EAAE,CAAC;MACvC,CAAC;MACD,MAAME,MAAK,GAAI;QAAEC,GAAG,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAI,CAAC;MAEtCC,SAAS,CAACC,YAAY,CAACC,gBAAgB,CAAC,EACrCjB,IAAI,CAACkB,OAAM,IAAK;QACf,MAAMC,YAAW,GAAID,OAAO,CAACE,MAAM,CAACC,MAAK,IAAKA,MAAM,CAACC,IAAG,KAAM,YAAY,CAAC;QAC3E,IAAIH,YAAY,CAACI,MAAK,GAAI,CAAC,EAAE;UAC3B,IAAI,CAAC9B,WAAW,CAAC+B,KAAK,CAAC;YAAEC,UAAU,EAAE;UAAc,CAAC,EAAEb,MAAM,EAAEf,qBAAqB,CAAC,CAACQ,KAAK,CAACI,mBAAmB,CAAC;QACjH,OAAO;UACLiB,KAAK,CAAC,qBAAqB,CAAC;QAC9B;MACF,CAAC,EACArB,KAAK,CAACC,GAAE,IAAK;QACZC,OAAO,CAACI,GAAG,CAAC,UAAUL,GAAG,CAACqB,OAAO,EAAE,CAAC;MACtC,CAAC,CAAC;IACN,CAAC;IACDC,qBAAqBA,CAAA,EAAG;MACtB,IAAI,IAAI,CAACC,eAAe,CAACC,IAAI,CAAC,MAAM,EAAE,EAAE;QACtC,IAAI,CAAC7B,OAAO,CAACC,IAAI,CAAC;UAChBX,IAAI,EAAE,gBAAgB;UACtBY,MAAM,EAAE;YACNC,SAAS,EAAE,IAAI,CAACyB;UAClB;QACF,CAAC,CAAC;MACJ,OAAO;QACLH,KAAK,CAAC,gBAAgB,CAAC;MACzB;IACF,CAAC;IACDK,YAAYA,CAAA,EAAE;MACZ,IAAI,CAAC9B,OAAO,CAACC,IAAI,CAAC;QAACX,IAAI,EAAE;MAAM,CAAC,CAAC;IACnC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}